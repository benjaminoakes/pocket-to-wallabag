<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pocket to Wallabag Converter</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Pocket to Wallabag Converter</h1>
            <p>A <a href="https://getoffpocket.com/">getoffpocket.com</a> project</p>
            <p>Convert your Pocket export to Wallabag-compatible format</p>
            <div class="format-info">
                <span class="format-badge">📄 Exports as Instapaper CSV format</span>
                <span class="compatibility-note">Compatible with Wallabag import</span>
            </div>
            <div class="privacy-badges">
                <span class="badge privacy-badge">🔒 100% Client-Side Processing</span>
                <span class="badge opensource-badge">📖 Open Source (🐙 <a href="https://github.com/benjaminoakes/pocket-to-wallabag/">GitHub</a>, 3️⃣ <a href="LICENSE.txt">GPLv3</a>)</span>
            </div>
        </header>

        <main>
            <div class="privacy-notice">
                <h3>🛡️ Your Privacy is Protected</h3>
                <p>All conversion happens locally in your browser. Your data never leaves your device and is not sent to any servers. This tool is open source under the GPL license and can be verified.</p>

                <details class="verification-details">
                    <summary>🔍 How to Verify Client-Side Processing</summary>
                    <div class="verification-content">
                        <h4>Easy Verification Methods:</h4>
                        <ol>
                            <li><strong>Network Tab Test:</strong> Open Developer Tools (F12) → Network tab → Upload a file. You'll see NO requests to external servers during conversion.</li>
                            <li><strong>Offline Test:</strong> Disconnect from the internet after loading this page. The tool will still work perfectly.</li>
                            <li><strong>Source Code:</strong> All code is <a href="https://github.com/benjaminoakes/pocket-to-wallabag/" target="_blank">open source on GitHub</a> - inspect it yourself!</li>
                            <li><strong>Local File Test:</strong> Download the files and open index.html directly in your browser using file:// protocol.</li>
                        </ol>
                        <p><em>These tests prove your data never leaves your device.</em></p>
                    </div>
                </details>
            </div>

            <div class="upload-area" id="uploadArea">
                <div class="upload-content">
                    <div class="upload-icon">📁</div>
                    <h3>Drop your Pocket export ZIP file here</h3>
                    <p>or <button class="browse-btn" id="browseBtn">browse files</button></p>
                    <input type="file" id="fileInput" accept=".zip" hidden>
                </div>
            </div>

            <div class="progress-section" id="progressSection" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <p id="progressText">Processing...</p>
            </div>

            <div class="results-section" id="resultsSection" style="display: none;">
                <h3>Conversion Complete!</h3>
                <div class="stats" id="statsDisplay"></div>
                <div class="format-explanation">
                    <p><strong>📄 Format:</strong> Instapaper CSV (compatible with Wallabag import)</p>
                    <p><strong>💡 Tip:</strong> Use Wallabag's "Import from Instapaper" feature to import this file</p>
                </div>
                <button class="download-btn" id="downloadBtn">Download Converted CSV</button>
            </div>
        </main>
    </div>

    <script src="lib/jszip.min.js"></script>
    <script src="js/zip-handler.js"></script>
    <script src="js/converter.js"></script>
    <script src="js/ui.js"></script>
</body>
</html>
